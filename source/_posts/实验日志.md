---
title: 实验日志
date: 2018-08-16 15:04:50
tags: [record]
categories: 实验记录
---

## 假阳性减少

### 2018-08-16 在结节检测结果上进行五折交叉验证假阳性减少
尝试用假阳性减少模型在结节检测的结果上划分5折交叉验证，原始三分支网络和类google网络的第一折效果都非常不好，已停止。

新增代码目录：

     老服务器:~/Code/FPR_TEST_ON_DETECTION_RESULT/

数据：

     老服务器:/mnt/data1/lty/FPR_TEST_ON_DETECTION_RESULT/data/

结果目录：

     老服务器:/mnt/data1/lty/FPR_TEST_ON_DETECTION_RESULT/


### 2018-08-16 和结节检测使用同样的训练集进行假阳性减少
尝试用假阳性减少模型在结节检测的训练集上训练，然后再在结节检测结果上进行假阳性减少

network_v1使用常规的学习速率衰减0.95

network_v2使用断层的学习速率衰减：0.01 0.001 0.0001

新增代码目录：

     老服务器:~/Code/FPR_TEST_ON_DETECTION_TRAIN/

训练数据目录：

     老服务器:/mnt/data3/lty/MULTI_SIZE_FPR_ORI_CANDIDATE/data/

结节检测结果数据直接使用之前保存的pkl：

     老服务器:/mnt/data1/lty/FPR_TEST_ON_DETECTION_RESULT/data/

结果目录：

     老服务器:/mnt/data3/lty/FPR_TEST_ON_DETECTION_TRAIN/, 其中后缀为_detect的文件和文件夹

### 2018-08-16 尝试将假阳性减少模型修改为network_v6_google_net
尝试修改假阳性减少模型，在原来类googleNet的基础上，将原inception结构的BatchNormalization层和PRelu层拆分为三个，训练只完成了第一折的两代

修改代码目录：

     老服务器:~/Code/MULTI_SIZE_3DCNN_FPR/

训练数据目录：

     老服务器:/mnt/data3/lty/MULTI_SIZE_FPR_ORI_CANDIDATE/data/

结果目录：

     老服务器:/mnt/data3/lty/MULTI_SIZE_FPR_ORI_CANDIDATE/network_v6_google_net/

### 2018-08-17 尝试将预测值合并
在结节检测的假阳性减少结果上，对相邻点的预测值进行非极大值抑制，该算法暂时只做到保证合并全部同层相邻点，后面希望能合并所有相邻点，暂时最好的结果从单纯结节检测+假阳性减少的69%提升到78%

修改代码：

     老服务器:~/Code/FPR_TEST_ON_DETECTION_TRAIN/fpr_predice.py, 新增merge_adjacent_candidate函数

训练数据目录：

     老服务器:/mnt/data3/lty/MULTI_SIZE_FPR_ORI_CANDIDATE/data/,

结节检测结果数据直接使用之前保存的pkl：

     老服务器:/mnt/data1/lty/FPR_TEST_ON_DETECTION_RESULT/data/

结果目录：

     老服务器:/mnt/data3/lty/FPR_TEST_ON_DETECTION_TRAIN/, 其中后缀为_clear的文件和文件夹

### 2018-08-17 在结节检测结果上进行五折交叉验证假阳性减少（修改版）
在昨天的这个实验上，将正样本来源换成原始正样本，负样本约4000，正负样本比例大概为1:14，训练过程中，正负样本均增强500倍，且正样本过采样14次，训练样本共约2600000。采用原始的三分支网络，重新训练网络

修改代码目录：

     老服务器:~/Code/FPR_TEST_ON_DETECTION_RESULT/

数据：

     老服务器:/mnt/data1/lty/FPR_TEST_ON_DETECTION_RESULT/data/

结果目录：

     老服务器:/mnt/data1/lty/FPR_TEST_ON_DETECTION_RESULT/network_v1_new_data/